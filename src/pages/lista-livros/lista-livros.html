<ion-header>

  <ion-navbar hideBackButton>
    <ion-title>Lista de Livros</ion-title>

    <ion-buttons hideWhen="android, core" end>
      <button ion-button icon-only (click)="addLivro()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content padding class="contentMain">

  <ion-toolbar padding>
    <ion-searchbar
      placeholder="Procurar"
      [(ngModel)]="myInput"
      [showCancelButton]="shouldShowCancel"
      (ionInput)="filterItems($event)"
      (ionCancel)="onCancel($event)">
    </ion-searchbar>
  </ion-toolbar>

  <ion-list>

    <ion-item-sliding *ngFor="let livro of livros">
    <ion-item>

      <ion-thumbnail item-start>
        <img [src]="domSanitizationService.bypassSecurityTrustUrl(livro.capa)">
      </ion-thumbnail>

      <h2> {{livro.titulo}}</h2>
      <p>{{livro.autor}}</p>

      <button ion-button clear small item-end (click)="onVerMais(livro.id)">
        Ver
      </button>

    </ion-item>
      <ion-item-options>

        <button
          ion-button
          (click)="editarLivro(livro.id)">
          <ion-icon name="create"></ion-icon>
          Editar
        </button>

        <button
          ion-button
          color="danger"
          (click)="deleteLivro(livro.id)">
          <ion-icon name="trash"></ion-icon>
          Excluir
        </button>

      </ion-item-options>
    </ion-item-sliding>

  </ion-list>


  <button showWhen="core" class="button-add-core centralized" ion-button (click)="addLivro()">
    Adicionar Livro
  </button>

  <button showWhen="android" class="button-add-android" ion-fab (click)="addLivro()">
    <ion-icon name="add"></ion-icon>
  </button>

</ion-content>
